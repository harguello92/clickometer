"use strict";const e={value:0,increment(){this.value=this.value+1},decrement(){this.value=this.value-1}},t=({DOMElement:e,event:t,action:n})=>e.addEventListener(t,n),n=({state:e,config:t})=>({currentValue:e.value,maxClicks:t.maxClicks,get percentatge(){return 100*this.currentValue/this.maxClicks}});let a=0;const c=t=>{if(e.value===t.maxClicks)return t.onExceeded(n({state:e,config:t}));e.increment(),t.onChange(n({state:e,config:t}))},l=t=>{clearInterval(a),a=setInterval((()=>{if(0===e.value)return clearInterval(a),void(a=null);e.decrement(),t.onChange(n({state:e,config:t}))}),t.timeInterval)};var i=a=>{try{return(t=>{t.onChange(n({state:e,config:t}))})(a),(({DOMElement:e,action:n})=>{t({DOMElement:e,event:"click",action:n})})({DOMElement:a.DOMElement,action:()=>{c(a),l(a)}}),(({DOMElement:e,events:n,action:a})=>{n.forEach((n=>{t({DOMElement:e,event:n,action:a})}))})({DOMElment:a.DOMElement,events:a.customEvents,action:()=>{c(a),l(a)}}),!0}catch(e){return!1}};const r={DOMElement:document.body,maxClicks:5,timeInterval:1e3,onChange:()=>{},onExceeded:()=>{},customEvents:[]};module.exports=e=>{const t=(e=>({...r,...e}))(e);i(t)};
